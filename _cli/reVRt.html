
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>reVRt &#8212; reVRt 0.2.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=37f418d5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/tabs.js?v=3030b3cb"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_cli/reVRt';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing to reVRt" href="../dev/index.html" />
    <link rel="prev" title="Command Line Interface (CLI)" href="cli.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.2.1" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">reVRt 0.2.1 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../index.html">
    Home page
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../misc/installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../_autosummary/revrt.html">
    API reference
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="cli.html">
    CLI reference
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../dev/index.html">
    Development
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../index.html">
    Home page
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../misc/installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../_autosummary/revrt.html">
    API reference
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="cli.html">
    CLI reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../dev/index.html">
    Development
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">reVRt</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="cli.html" class="nav-link">Command Line Interface (CLI)</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">reVRt</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="revrt">
<h1>reVRt<a class="headerlink" href="#revrt" title="Link to this heading">#</a></h1>
<p>reVRt Command Line Interface.</p>
<p>Typically, a good place to start is to set up a reVRt job with a pipeline
config that points to several reVRt modules that you want to run in serial.</p>
<p>To begin, you can generate some template configuration files using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ reVRt template-configs
</pre></div>
</div>
<p>By default, this generates template JSON configuration files, though you
can request JSON5, YAML, or TOML configuration files instead. You can run
<code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">reVRt</span> <span class="pre">template-configs</span> <span class="pre">--help</span></code> on the command line to see all available
options for the <code class="docutils literal notranslate"><span class="pre">template-configs</span></code> command. Once the template configuration
files have been generated, you can fill them out by referring to the
module CLI documentation (if available) or the help pages of the module CLIs
for more details on the config options for each CLI command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ reVRt --help

$ reVRt layers-to-file --help

$ reVRt layers-from-file --help

$ reVRt build-routing-layers --help

$ reVRt route-characterization --help

$ reVRt script --help
</pre></div>
</div>
<p>After appropriately filling our the configuration files for each module you
want to run, you can call the reVRt pipeline CLI using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ reVRt pipeline -c config_pipeline.json
</pre></div>
</div>
<p>This command will run each pipeline step in sequence.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will need to re-submit the <code class="docutils literal notranslate"><span class="pre">pipeline</span></code> command above after
each completed pipeline step.</p>
</div>
<p>To check the status of the pipeline, you can run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ reVRt status
</pre></div>
</div>
<p>This will print a report to the command line detailing the progress of the
current pipeline. See <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">reVRt</span> <span class="pre">status</span> <span class="pre">--help</span></code> for all status command
options.</p>
<p>If you need to parameterize the pipeline execution, you can use the <code class="docutils literal notranslate"><span class="pre">batch</span></code>
command. For details on setting up a batch config file, see the documentation
or run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ reVRt batch --help
</pre></div>
</div>
<p>on the command line. Once you set up a batch config file, you can execute
it using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ reVRt batch -c config_batch.json
</pre></div>
</div>
<p>For more information on getting started, see the
<a class="reference external" href="https://nrel.github.io/gaps/misc/examples.users.html">How to Run a Model Powered by GAPs</a> guide.</p>
<p>The general structure of the reVRt CLI is given below.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>reVRt<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COMMAND<span class="w"> </span><span class="o">[</span>ARGS<span class="o">]</span>...
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-v">
<span id="cmdoption-reVRt-verbose"></span><span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--verbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-v" title="Link to this definition">#</a></dt>
<dd><p>Flag to turn on debug logging. Default is not verbose.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-version" title="Link to this definition">#</a></dt>
<dd><p>Show the version and exit.</p>
</dd></dl>

<section id="revrt-batch">
<h2>batch<a class="headerlink" href="#revrt-batch" title="Link to this heading">#</a></h2>
<p>Execute an analysis pipeline over a parametric set of inputs.</p>
<p>The general structure for calling this CLI command is given below (add <code class="docutils literal notranslate"><span class="pre">--help</span></code> to print help info to the terminal).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>reVRt<span class="w"> </span>batch<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-batch-c">
<span id="cmdoption-reVRt-batch-config_file"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--config_file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;config_file&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-batch-c" title="Link to this definition">#</a></dt>
<dd><p><strong>Required</strong> Path to the <code class="docutils literal notranslate"><span class="pre">batch</span></code> configuration file. Below is a sample template config</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-SlNPTi9KU09ONQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tab" tabindex="0">JSON/JSON5</button><button aria-controls="panel-0-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button><button aria-controls="panel-0-VE9NTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-VE9NTA==" name="VE9NTA==" role="tab" tabindex="-1">TOML</button></div><div aria-labelledby="tab-0-SlNPTi9KU09ONQ==" class="sphinx-tabs-panel group-tab" id="panel-0-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;logging&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;log_file&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;log_level&quot;</span><span class="p">:</span> <span class="s2">&quot;INFO&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;pipeline_config&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sets&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED]&quot;</span><span class="p">,</span>
            <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED]&quot;</span><span class="p">,</span>
            <span class="s2">&quot;set_tag&quot;</span><span class="p">:</span> <span class="s2">&quot;set1&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED]&quot;</span><span class="p">,</span>
            <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED]&quot;</span><span class="p">,</span>
            <span class="s2">&quot;set_tag&quot;</span><span class="p">:</span> <span class="s2">&quot;set2&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logging</span><span class="p">:</span>
  <span class="n">log_file</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">log_level</span><span class="p">:</span> <span class="n">INFO</span>
<span class="n">pipeline_config</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED]&#39;</span>
<span class="n">sets</span><span class="p">:</span>
<span class="o">-</span> <span class="n">args</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED]&#39;</span>
  <span class="n">files</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED]&#39;</span>
  <span class="n">set_tag</span><span class="p">:</span> <span class="n">set1</span>
<span class="o">-</span> <span class="n">args</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED]&#39;</span>
  <span class="n">files</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED]&#39;</span>
  <span class="n">set_tag</span><span class="p">:</span> <span class="n">set2</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-VE9NTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-VE9NTA==" name="VE9NTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipeline_config</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED]&quot;</span>
<span class="p">[[</span><span class="n">sets</span><span class="p">]]</span>
<span class="n">args</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED]&quot;</span>
<span class="n">files</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED]&quot;</span>
<span class="n">set_tag</span> <span class="o">=</span> <span class="s2">&quot;set1&quot;</span>

<span class="p">[[</span><span class="n">sets</span><span class="p">]]</span>
<span class="n">args</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED]&quot;</span>
<span class="n">files</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED]&quot;</span>
<span class="n">set_tag</span> <span class="o">=</span> <span class="s2">&quot;set2&quot;</span>

<span class="p">[</span><span class="n">logging</span><span class="p">]</span>
<span class="n">log_level</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span>
</pre></div>
</div>
</div></div>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">#</a></h3>
<dl>
<dt>logging<span class="classifier">dict, optional</span></dt><dd><p>Dictionary containing keyword-argument pairs to pass to
<a class="reference external" href="https://tinyurl.com/47hakp7f/">init_logger</a>. This
initializes logging for the batch command. Note that
each pipeline job submitted via batch has it’s own
<code class="docutils literal notranslate"><span class="pre">logging</span></code> key that will initialize pipeline step
logging. Therefore, it’s only ever necessary to use
this input if you want logging information about the
batching portion of the execution.</p>
</dd>
<dt>pipeline_config<span class="classifier">str</span></dt><dd><p>Path to the pipeline configuration defining the commands to
run for every parametric set.</p>
</dd>
<dt>sets<span class="classifier">list of dicts</span></dt><dd><p>A list of dictionaries, where each dictionary defines a
“set” of parametric runs. Each dictionary should have
the following keys:</p>
<blockquote>
<div><dl>
<dt>args<span class="classifier">dict</span></dt><dd><p>A dictionary defining the arguments across all input
configuration files to parameterize. Each argument
to be parametrized should be a key in this
dictionary, and the value should be a <strong>list</strong> of the
parameter values to run for this argument (single-item lists
are allowed and can be used to vary a parameter value across
sets).</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-SlNPTi9KU09ONQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tab" tabindex="0">JSON/JSON5</button><button aria-controls="panel-1-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button><button aria-controls="panel-1-VE9NTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-VE9NTA==" name="VE9NTA==" role="tab" tabindex="-1">TOML</button></div><div aria-labelledby="tab-1-SlNPTi9KU09ONQ==" class="sphinx-tabs-panel group-tab" id="panel-1-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;input_constant_1&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mf">18.02</span><span class="p">,</span>
        <span class="mf">19.04</span>
    <span class="p">],</span>
    <span class="s2">&quot;path_to_a_file&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;/first/path.h5&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/second/path.h5&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/third/path.h5&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">args</span><span class="p">:</span>
  <span class="n">input_constant_1</span><span class="p">:</span>
  <span class="o">-</span> <span class="mf">18.02</span>
  <span class="o">-</span> <span class="mf">19.04</span>
  <span class="n">path_to_a_file</span><span class="p">:</span>
  <span class="o">-</span> <span class="o">/</span><span class="n">first</span><span class="o">/</span><span class="n">path</span><span class="o">.</span><span class="n">h5</span>
  <span class="o">-</span> <span class="o">/</span><span class="n">second</span><span class="o">/</span><span class="n">path</span><span class="o">.</span><span class="n">h5</span>
  <span class="o">-</span> <span class="o">/</span><span class="n">third</span><span class="o">/</span><span class="n">path</span><span class="o">.</span><span class="n">h5</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-VE9NTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-VE9NTA==" name="VE9NTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">args</span><span class="p">]</span>
<span class="n">input_constant_1</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">18.02</span><span class="p">,</span> <span class="mf">19.04</span><span class="p">,]</span>
<span class="n">path_to_a_file</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;/first/path.h5&quot;</span><span class="p">,</span> <span class="s2">&quot;/second/path.h5&quot;</span><span class="p">,</span> <span class="s2">&quot;/third/path.h5&quot;</span><span class="p">,]</span>
</pre></div>
</div>
</div></div>
<p>This example would run a total of six pipelines, one
with each of the following arg combinations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">input_constant_1</span><span class="o">=</span><span class="mf">18.20</span><span class="p">,</span> <span class="n">path_to_a_file</span><span class="o">=</span><span class="s2">&quot;/first/path.h5&quot;</span>
<span class="n">input_constant_1</span><span class="o">=</span><span class="mf">18.20</span><span class="p">,</span> <span class="n">path_to_a_file</span><span class="o">=</span><span class="s2">&quot;/second/path.h5&quot;</span>
<span class="n">input_constant_1</span><span class="o">=</span><span class="mf">18.20</span><span class="p">,</span> <span class="n">path_to_a_file</span><span class="o">=</span><span class="s2">&quot;/third/path.h5&quot;</span>
<span class="n">input_constant_1</span><span class="o">=</span><span class="mf">19.04</span><span class="p">,</span> <span class="n">path_to_a_file</span><span class="o">=</span><span class="s2">&quot;/first/path.h5&quot;</span>
<span class="n">input_constant_1</span><span class="o">=</span><span class="mf">19.04</span><span class="p">,</span> <span class="n">path_to_a_file</span><span class="o">=</span><span class="s2">&quot;/second/path.h5&quot;</span>
<span class="n">input_constant_1</span><span class="o">=</span><span class="mf">19.04</span><span class="p">,</span> <span class="n">path_to_a_file</span><span class="o">=</span><span class="s2">&quot;/third/path.h5&quot;</span>
</pre></div>
</div>
<p>Remember that the keys in the <code class="docutils literal notranslate"><span class="pre">args</span></code> dictionary
should be part of (at least) one of your other
configuration files.</p>
</dd>
<dt>files<span class="classifier">list</span></dt><dd><p>A list of paths to the configuration files that
contain the arguments to be updated for every
parametric run. Arguments can be spread out over
multiple files. For example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-SlNPTi9KU09ONQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tab" tabindex="0">JSON/JSON5</button><button aria-controls="panel-2-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button><button aria-controls="panel-2-VE9NTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-VE9NTA==" name="VE9NTA==" role="tab" tabindex="-1">TOML</button></div><div aria-labelledby="tab-2-SlNPTi9KU09ONQ==" class="sphinx-tabs-panel group-tab" id="panel-2-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;./config_run.yaml&quot;</span><span class="p">,</span>
    <span class="s2">&quot;./config_analyze.json&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">files</span><span class="p">:</span>
<span class="o">-</span> <span class="o">./</span><span class="n">config_run</span><span class="o">.</span><span class="n">yaml</span>
<span class="o">-</span> <span class="o">./</span><span class="n">config_analyze</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-VE9NTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-VE9NTA==" name="VE9NTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">files</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;./config_run.yaml&quot;</span><span class="p">,</span> <span class="s2">&quot;./config_analyze.json&quot;</span><span class="p">,]</span>
</pre></div>
</div>
</div></div>
</dd>
<dt>set_tag<span class="classifier">str, optional</span></dt><dd><p>Optional string defining a set tag that will prefix
each job tag for this set. This tag does not need to
include an underscore, as that is provided during
concatenation.</p>
</dd>
</dl>
</div></blockquote>
</dd>
</dl>
</section>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-batch-dry">
<span class="sig-name descname"><span class="pre">--dry</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-batch-dry" title="Link to this definition">#</a></dt>
<dd><p>Flag to do a dry run (make batch dirs and update files without running the pipeline).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-batch-cancel">
<span class="sig-name descname"><span class="pre">--cancel</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-batch-cancel" title="Link to this definition">#</a></dt>
<dd><p>Flag to cancel all jobs associated associated with the <code class="docutils literal notranslate"><span class="pre">batch_jobs.csv</span></code> file in the current batch config directory.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-batch-delete">
<span class="sig-name descname"><span class="pre">--delete</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-batch-delete" title="Link to this definition">#</a></dt>
<dd><p>Flag to delete all batch job sub directories associated with the <code class="docutils literal notranslate"><span class="pre">batch_jobs.csv</span></code> file in the current batch config directory.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-batch-monitor-background">
<span class="sig-name descname"><span class="pre">--monitor-background</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-batch-monitor-background" title="Link to this definition">#</a></dt>
<dd><p>Flag to monitor all batch pipelines continuously in the background. Note that the <code class="docutils literal notranslate"><span class="pre">stdout/stderr</span></code> will not be captured, but you can set a pipeline <code class="docutils literal notranslate"><span class="pre">&quot;log_file&quot;</span></code> to capture logs.</p>
</dd></dl>

</section>
<section id="revrt-build-routing-layers">
<h2>build-routing-layers<a class="headerlink" href="#revrt-build-routing-layers" title="Link to this heading">#</a></h2>
<p>Execute the <code class="docutils literal notranslate"><span class="pre">build-routing-layers</span></code> step from a config file.</p>
<p>You can re-run this function on an existing file to add new layers
without overwriting existing layers or needing to change your
original config.</p>
<p>The general structure for calling this CLI command is given below
(add <code class="docutils literal notranslate"><span class="pre">--help</span></code> to print help info to the terminal).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>reVRt<span class="w"> </span>build-routing-layers<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-build-routing-layers-c">
<span id="cmdoption-reVRt-build-routing-layers-config_file"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--config_file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;config_file&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-build-routing-layers-c" title="Link to this definition">#</a></dt>
<dd><p><strong>Required</strong> Path to the <code class="docutils literal notranslate"><span class="pre">build-routing-layers</span></code> configuration file. Below is a sample template config</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-SlNPTi9KU09ONQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tab" tabindex="0">JSON/JSON5</button><button aria-controls="panel-3-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button><button aria-controls="panel-3-VE9NTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-VE9NTA==" name="VE9NTA==" role="tab" tabindex="-1">TOML</button></div><div aria-labelledby="tab-3-SlNPTi9KU09ONQ==" class="sphinx-tabs-panel group-tab" id="panel-3-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;execution_control&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
        <span class="s2">&quot;allocation&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;walltime&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qos&quot;</span><span class="p">:</span> <span class="s2">&quot;normal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;memory&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;feature&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;conda_env&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;module&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;sh_script&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;keep_sh&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;num_test_nodes&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;max_workers&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;memory_limit_per_worker&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;log_directory&quot;</span><span class="p">:</span> <span class="s2">&quot;./logs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_level&quot;</span><span class="p">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;routing_file&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;template_file&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;input_layer_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;output_tiff_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;masks_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;layers&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;dry_costs&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;merge_friction_and_barriers&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;create_kwargs&quot;</span><span class="p">:</span> <span class="n">null</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">execution_control</span><span class="p">:</span>
  <span class="n">option</span><span class="p">:</span> <span class="n">local</span>
  <span class="n">allocation</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED IF ON HPC]&#39;</span>
  <span class="n">walltime</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED IF ON HPC]&#39;</span>
  <span class="n">qos</span><span class="p">:</span> <span class="n">normal</span>
  <span class="n">memory</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">queue</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">feature</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">conda_env</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">module</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">sh_script</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">keep_sh</span><span class="p">:</span> <span class="n">false</span>
  <span class="n">num_test_nodes</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">max_workers</span><span class="p">:</span> <span class="mi">1</span>
  <span class="n">memory_limit_per_worker</span><span class="p">:</span> <span class="n">auto</span>
<span class="n">log_directory</span><span class="p">:</span> <span class="o">./</span><span class="n">logs</span>
<span class="n">log_level</span><span class="p">:</span> <span class="n">INFO</span>
<span class="n">routing_file</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED]&#39;</span>
<span class="n">template_file</span><span class="p">:</span> <span class="n">null</span>
<span class="n">input_layer_dir</span><span class="p">:</span> <span class="o">.</span>
<span class="n">output_tiff_dir</span><span class="p">:</span> <span class="o">.</span>
<span class="n">masks_dir</span><span class="p">:</span> <span class="o">.</span>
<span class="n">layers</span><span class="p">:</span> <span class="n">null</span>
<span class="n">dry_costs</span><span class="p">:</span> <span class="n">null</span>
<span class="n">merge_friction_and_barriers</span><span class="p">:</span> <span class="n">null</span>
<span class="n">create_kwargs</span><span class="p">:</span> <span class="n">null</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-VE9NTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-VE9NTA==" name="VE9NTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">log_directory</span> <span class="o">=</span> <span class="s2">&quot;./logs&quot;</span>
<span class="n">log_level</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span>
<span class="n">routing_file</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED]&quot;</span>
<span class="n">input_layer_dir</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span>
<span class="n">output_tiff_dir</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span>
<span class="n">masks_dir</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span>

<span class="p">[</span><span class="n">execution_control</span><span class="p">]</span>
<span class="n">option</span> <span class="o">=</span> <span class="s2">&quot;local&quot;</span>
<span class="n">allocation</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span>
<span class="n">walltime</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span>
<span class="n">qos</span> <span class="o">=</span> <span class="s2">&quot;normal&quot;</span>
<span class="n">keep_sh</span> <span class="o">=</span> <span class="n">false</span>
<span class="n">max_workers</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">memory_limit_per_worker</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span>
</pre></div>
</div>
</div></div>
<section id="id1">
<h3>Parameters<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<dl>
<dt>execution_control<span class="classifier">dict</span></dt><dd><p>Dictionary containing execution control arguments. Allowed arguments are:</p>
<dl class="field-list simple">
<dt class="field-odd">option<span class="colon">:</span></dt>
<dd class="field-odd"><p>({‘local’, ‘kestrel’, ‘eagle’, ‘awspc’, ‘slurm’, ‘peregrine’})
Hardware run option. Determines the type of job
scheduler to use as well as the base AU cost. The
“slurm” option is a catchall for HPC systems
that use the SLURM scheduler and <strong>should only be
used if desired hardware is not listed above</strong>. If
“local”, no other HPC-specific keys in are
required in <cite>execution_control</cite> (they are ignored
if provided).</p>
</dd>
<dt class="field-even">allocation<span class="colon">:</span></dt>
<dd class="field-even"><p>(str)
HPC project (allocation) handle.</p>
</dd>
<dt class="field-odd">walltime<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int)
Node walltime request in hours.</p>
</dd>
<dt class="field-even">qos<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Quality-of-service specifier. For Kestrel users:
This should be one of {‘standby’, ‘normal’,
‘high’}. Note that ‘high’ priority doubles the AU
cost. By default, <code class="docutils literal notranslate"><span class="pre">&quot;normal&quot;</span></code>.</p>
</dd>
<dt class="field-odd">memory<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int, optional)
Node memory max limit (in GB). By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which uses the scheduler’s default memory limit.
For Kestrel users: If you would like to use the
full node memory, leave this argument unspecified
(or set to <code class="docutils literal notranslate"><span class="pre">None</span></code>) if you are running on standard
nodes. However, if you would like to use the bigmem
nodes, you must specify the full upper limit of
memory you would like for your job, otherwise you
will be limited to the standard node memory size
(250GB).</p>
</dd>
<dt class="field-even">max_workers<span class="colon">:</span></dt>
<dd class="field-even"><p>(int, optional)
Number of parallel workers to use for file creation. If <code class="docutils literal notranslate"><span class="pre">None</span></code> or &gt;1, processing is performed in parallel using Dask. By default, <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd>
<dt class="field-odd">memory_limit_per_worker<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, float, int, or None, default=”auto”)
Sets the memory limit <em>per worker</em>. This only applies if <code class="docutils literal notranslate"><span class="pre">max_workers</span> <span class="pre">!=</span> <span class="pre">1</span></code>. If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>, no limit is applied. If <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code>, the total system memory is split evenly between the workers. If a float, that fraction of the system memory is used <em>per worker</em>. If a string giving a number  of bytes (like “1GiB”), that amount is used <em>per worker</em>. If an int, that number of bytes is used <em>per worker</em>. By default, <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code></p>
</dd>
<dt class="field-even">queue<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional; PBS ONLY)
HPC queue to submit job to. Examples include: ‘debug’,
‘short’, ‘batch’, ‘batch-h’, ‘long’, etc.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which uses “test_queue”.</p>
</dd>
<dt class="field-odd">feature<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, optional)
Additional flags for SLURM job (e.g. “-p debug”).
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not specify any
additional flags.</p>
</dd>
<dt class="field-even">conda_env<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Name of conda environment to activate. By default,
<code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not load any environments.</p>
</dd>
<dt class="field-odd">module<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, optional)
Module to load. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not
load any modules.</p>
</dd>
<dt class="field-even">sh_script<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Extra shell script to run before command call.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not run any
scripts.</p>
</dd>
<dt class="field-odd">keep_sh<span class="colon">:</span></dt>
<dd class="field-odd"><p>(bool, optional)
Option to keep the HPC submission script on disk.
Only has effect if executing on HPC. By default,
<code class="docutils literal notranslate"><span class="pre">False</span></code>, which purges the submission scripts
after each job is submitted.</p>
</dd>
<dt class="field-even">num_test_nodes<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Number of nodes to submit before terminating the
submission process. This can be used to test a
new submission configuration without submitting
all nodes (i.e. only running a handful to ensure
the inputs are specified correctly and the
outputs look reasonable). By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which submits all node jobs.</p>
</dd>
</dl>
<p>Only the <cite>option</cite> key is required for local execution. For execution on the HPC, the <cite>allocation</cite> and <cite>walltime</cite> keys are also required. All other options are populated with default values, as seen above.</p>
</dd>
<dt>log_directory<span class="classifier">str</span></dt><dd><p>Path to directory where logs should be written. Path can be relative and does not have to exist on disk (it will be created if missing). By default, <code class="docutils literal notranslate"><span class="pre">&quot;./logs&quot;</span></code>.</p>
</dd>
<dt>log_level<span class="classifier">{“DEBUG”, “INFO”, “WARNING”, “ERROR”}</span></dt><dd><p>String representation of desired logger verbosity. Suitable options are <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> (most verbose), <code class="docutils literal notranslate"><span class="pre">INFO</span></code> (moderately verbose), <code class="docutils literal notranslate"><span class="pre">WARNING</span></code> (only log warnings and errors), and <code class="docutils literal notranslate"><span class="pre">ERROR</span></code> (only log errors). By default, <code class="docutils literal notranslate"><span class="pre">&quot;INFO&quot;</span></code>.</p>
</dd>
<dt>routing_file<span class="classifier">path-like</span></dt><dd><p>Path to GeoTIFF/Zarr file to store cost layers in. If the file does not exist, it will be created based on the <cite>template_file</cite> input.</p>
</dd>
<dt>template_file<span class="classifier">path-like, optional</span></dt><dd><p>Path to template GeoTIFF (<code class="docutils literal notranslate"><span class="pre">*.tif</span></code> or <code class="docutils literal notranslate"><span class="pre">*.tiff</span></code>) or Zarr (<code class="docutils literal notranslate"><span class="pre">*.zarr</span></code>) file containing the profile and transform to be used for the layered costs file. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then the <cite>routing_file</cite>  is assumed to exist on disk already. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>input_layer_dir<span class="classifier">path-like, optional</span></dt><dd><p>Directory to search for input layers in, if not found in current directory. By default, <code class="docutils literal notranslate"><span class="pre">'.'</span></code>.</p>
</dd>
<dt>output_tiff_dir<span class="classifier">path-like, optional</span></dt><dd><p>Directory where cost layers should be saved as GeoTIFF. By default, <code class="docutils literal notranslate"><span class="pre">&quot;.&quot;</span></code>.</p>
</dd>
<dt>masks_dir<span class="classifier">path-like, optional</span></dt><dd><p>Directory for storing/finding mask GeoTIFFs (wet, dry, landfall, wet+, dry+). By default, <code class="docutils literal notranslate"><span class="pre">&quot;.&quot;</span></code>.</p>
</dd>
<dt>layers<span class="classifier">list of LayerConfig, optional</span></dt><dd><p>Configuration for layers to be built and added to the file. At least one of <cite>layers</cite>, <cite>dry_costs</cite>, or <cite>merge_friction_and_barriers</cite> must be defined. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>dry_costs<span class="classifier">DryCosts, optional</span></dt><dd><p>Configuration for dry cost layers to be built and added to the file. At least one of <cite>layers</cite>, <cite>dry_costs</cite>, or <cite>merge_friction_and_barriers</cite> must be defined. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>merge_friction_and_barriers<span class="classifier">MergeFrictionBarriers, optional</span></dt><dd><p>Configuration for merging friction and barriers and adding to the layered costs file. At least one of <cite>layers</cite>, <cite>dry_costs</cite>, or <cite>merge_friction_and_barriers</cite> must be defined. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt>create_kwargs<span class="classifier">dict, optional</span></dt><dd><p>Additional keyword arguments to pass to <code class="xref py py-meth docutils literal notranslate"><span class="pre">LayeredFile.create_new()</span></code> when creating a new layered file. Do not include <code class="docutils literal notranslate"><span class="pre">template_file</span></code>; it will be ignored. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
<p>Note that you may remove any keys with a <code class="docutils literal notranslate"><span class="pre">null</span></code> value if you do not intend to update them yourself.</p>
</section>
</dd></dl>

</section>
<section id="revrt-layers-from-file">
<h2>layers-from-file<a class="headerlink" href="#revrt-layers-from-file" title="Link to this heading">#</a></h2>
<p>Execute the <code class="docutils literal notranslate"><span class="pre">layers-from-file</span></code> step from a config file.</p>
<p>The general structure for calling this CLI command is given below
(add <code class="docutils literal notranslate"><span class="pre">--help</span></code> to print help info to the terminal).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>reVRt<span class="w"> </span>layers-from-file<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-layers-from-file-c">
<span id="cmdoption-reVRt-layers-from-file-config_file"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--config_file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;config_file&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-layers-from-file-c" title="Link to this definition">#</a></dt>
<dd><p><strong>Required</strong> Path to the <code class="docutils literal notranslate"><span class="pre">layers-from-file</span></code> configuration file. Below is a sample template config</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-SlNPTi9KU09ONQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tab" tabindex="0">JSON/JSON5</button><button aria-controls="panel-4-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button><button aria-controls="panel-4-VE9NTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-VE9NTA==" name="VE9NTA==" role="tab" tabindex="-1">TOML</button></div><div aria-labelledby="tab-4-SlNPTi9KU09ONQ==" class="sphinx-tabs-panel group-tab" id="panel-4-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;execution_control&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
        <span class="s2">&quot;allocation&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;walltime&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qos&quot;</span><span class="p">:</span> <span class="s2">&quot;normal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;memory&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;feature&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;conda_env&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;module&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;sh_script&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;keep_sh&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;num_test_nodes&quot;</span><span class="p">:</span> <span class="n">null</span>
    <span class="p">},</span>
    <span class="s2">&quot;log_directory&quot;</span><span class="p">:</span> <span class="s2">&quot;./logs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_level&quot;</span><span class="p">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fp&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;layers&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;profile_kwargs&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;out_layer_dir&quot;</span><span class="p">:</span> <span class="n">null</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">execution_control</span><span class="p">:</span>
  <span class="n">option</span><span class="p">:</span> <span class="n">local</span>
  <span class="n">allocation</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED IF ON HPC]&#39;</span>
  <span class="n">walltime</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED IF ON HPC]&#39;</span>
  <span class="n">qos</span><span class="p">:</span> <span class="n">normal</span>
  <span class="n">memory</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">queue</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">feature</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">conda_env</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">module</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">sh_script</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">keep_sh</span><span class="p">:</span> <span class="n">false</span>
  <span class="n">num_test_nodes</span><span class="p">:</span> <span class="n">null</span>
<span class="n">log_directory</span><span class="p">:</span> <span class="o">./</span><span class="n">logs</span>
<span class="n">log_level</span><span class="p">:</span> <span class="n">INFO</span>
<span class="n">fp</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED]&#39;</span>
<span class="n">layers</span><span class="p">:</span> <span class="n">null</span>
<span class="n">profile_kwargs</span><span class="p">:</span> <span class="n">null</span>
<span class="n">out_layer_dir</span><span class="p">:</span> <span class="n">null</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-VE9NTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-VE9NTA==" name="VE9NTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">log_directory</span> <span class="o">=</span> <span class="s2">&quot;./logs&quot;</span>
<span class="n">log_level</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span>
<span class="n">fp</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED]&quot;</span>

<span class="p">[</span><span class="n">execution_control</span><span class="p">]</span>
<span class="n">option</span> <span class="o">=</span> <span class="s2">&quot;local&quot;</span>
<span class="n">allocation</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span>
<span class="n">walltime</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span>
<span class="n">qos</span> <span class="o">=</span> <span class="s2">&quot;normal&quot;</span>
<span class="n">keep_sh</span> <span class="o">=</span> <span class="n">false</span>
</pre></div>
</div>
</div></div>
<section id="id2">
<h3>Parameters<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<dl>
<dt>execution_control<span class="classifier">dict</span></dt><dd><p>Dictionary containing execution control arguments. Allowed arguments are:</p>
<dl class="field-list simple">
<dt class="field-odd">option<span class="colon">:</span></dt>
<dd class="field-odd"><p>({‘local’, ‘kestrel’, ‘eagle’, ‘awspc’, ‘slurm’, ‘peregrine’})
Hardware run option. Determines the type of job
scheduler to use as well as the base AU cost. The
“slurm” option is a catchall for HPC systems
that use the SLURM scheduler and <strong>should only be
used if desired hardware is not listed above</strong>. If
“local”, no other HPC-specific keys in are
required in <cite>execution_control</cite> (they are ignored
if provided).</p>
</dd>
<dt class="field-even">allocation<span class="colon">:</span></dt>
<dd class="field-even"><p>(str)
HPC project (allocation) handle.</p>
</dd>
<dt class="field-odd">walltime<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int)
Node walltime request in hours.</p>
</dd>
<dt class="field-even">qos<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Quality-of-service specifier. For Kestrel users:
This should be one of {‘standby’, ‘normal’,
‘high’}. Note that ‘high’ priority doubles the AU
cost. By default, <code class="docutils literal notranslate"><span class="pre">&quot;normal&quot;</span></code>.</p>
</dd>
<dt class="field-odd">memory<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int, optional)
Node memory max limit (in GB). By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which uses the scheduler’s default memory limit.
For Kestrel users: If you would like to use the
full node memory, leave this argument unspecified
(or set to <code class="docutils literal notranslate"><span class="pre">None</span></code>) if you are running on standard
nodes. However, if you would like to use the bigmem
nodes, you must specify the full upper limit of
memory you would like for your job, otherwise you
will be limited to the standard node memory size
(250GB).</p>
</dd>
<dt class="field-even">queue<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional; PBS ONLY)
HPC queue to submit job to. Examples include: ‘debug’,
‘short’, ‘batch’, ‘batch-h’, ‘long’, etc.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which uses “test_queue”.</p>
</dd>
<dt class="field-odd">feature<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, optional)
Additional flags for SLURM job (e.g. “-p debug”).
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not specify any
additional flags.</p>
</dd>
<dt class="field-even">conda_env<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Name of conda environment to activate. By default,
<code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not load any environments.</p>
</dd>
<dt class="field-odd">module<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, optional)
Module to load. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not
load any modules.</p>
</dd>
<dt class="field-even">sh_script<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Extra shell script to run before command call.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not run any
scripts.</p>
</dd>
<dt class="field-odd">keep_sh<span class="colon">:</span></dt>
<dd class="field-odd"><p>(bool, optional)
Option to keep the HPC submission script on disk.
Only has effect if executing on HPC. By default,
<code class="docutils literal notranslate"><span class="pre">False</span></code>, which purges the submission scripts
after each job is submitted.</p>
</dd>
<dt class="field-even">num_test_nodes<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Number of nodes to submit before terminating the
submission process. This can be used to test a
new submission configuration without submitting
all nodes (i.e. only running a handful to ensure
the inputs are specified correctly and the
outputs look reasonable). By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which submits all node jobs.</p>
</dd>
</dl>
<p>Only the <cite>option</cite> key is required for local execution. For execution on the HPC, the <cite>allocation</cite> and <cite>walltime</cite> keys are also required. All other options are populated with default values, as seen above.</p>
</dd>
<dt>log_directory<span class="classifier">str</span></dt><dd><p>Path to directory where logs should be written. Path can be relative and does not have to exist on disk (it will be created if missing). By default, <code class="docutils literal notranslate"><span class="pre">&quot;./logs&quot;</span></code>.</p>
</dd>
<dt>log_level<span class="classifier">{“DEBUG”, “INFO”, “WARNING”, “ERROR”}</span></dt><dd><p>String representation of desired logger verbosity. Suitable options are <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> (most verbose), <code class="docutils literal notranslate"><span class="pre">INFO</span></code> (moderately verbose), <code class="docutils literal notranslate"><span class="pre">WARNING</span></code> (only log warnings and errors), and <code class="docutils literal notranslate"><span class="pre">ERROR</span></code> (only log errors). By default, <code class="docutils literal notranslate"><span class="pre">&quot;INFO&quot;</span></code>.</p>
</dd>
<dt>fp<span class="classifier">path-like</span></dt><dd><p>Path to layered file on disk.</p>
</dd>
<dt>layers<span class="classifier">list, optional</span></dt><dd><p>List of layer names to extract. Layer names must match layers in the <cite>fp</cite>, otherwise an error will be raised. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, extracts all layers from the <code class="xref py py-class docutils literal notranslate"><span class="pre">LayeredFile</span></code>. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>profile_kwargs<span class="classifier">dict, optional</span></dt><dd><p>Additional keyword arguments to pass into writing each raster. The following attributes ar ignored (they are set using properties of the source <code class="xref py py-class docutils literal notranslate"><span class="pre">LayeredFile</span></code>):</p>
<blockquote>
<div><ul class="simple">
<li><p>nodata</p></li>
<li><p>transform</p></li>
<li><p>crs</p></li>
<li><p>count</p></li>
<li><p>width</p></li>
<li><p>height</p></li>
</ul>
</div></blockquote>
<p>By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>out_layer_dir<span class="classifier">path-like, optional</span></dt><dd><p>Path to output directory into which layers should be saved as GeoTIFFs. This directory will be created if it does not already exist. If not provided, will use the config directory as output. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
<p>Note that you may remove any keys with a <code class="docutils literal notranslate"><span class="pre">null</span></code> value if you do not intend to update them yourself.</p>
</section>
</dd></dl>

</section>
<section id="revrt-layers-to-file">
<h2>layers-to-file<a class="headerlink" href="#revrt-layers-to-file" title="Link to this heading">#</a></h2>
<p>Execute the <code class="docutils literal notranslate"><span class="pre">layers-to-file</span></code> step from a config file.</p>
<p>The general structure for calling this CLI command is given below
(add <code class="docutils literal notranslate"><span class="pre">--help</span></code> to print help info to the terminal).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>reVRt<span class="w"> </span>layers-to-file<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-layers-to-file-c">
<span id="cmdoption-reVRt-layers-to-file-config_file"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--config_file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;config_file&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-layers-to-file-c" title="Link to this definition">#</a></dt>
<dd><p><strong>Required</strong> Path to the <code class="docutils literal notranslate"><span class="pre">layers-to-file</span></code> configuration file. Below is a sample template config</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-SlNPTi9KU09ONQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tab" tabindex="0">JSON/JSON5</button><button aria-controls="panel-5-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button><button aria-controls="panel-5-VE9NTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-VE9NTA==" name="VE9NTA==" role="tab" tabindex="-1">TOML</button></div><div aria-labelledby="tab-5-SlNPTi9KU09ONQ==" class="sphinx-tabs-panel group-tab" id="panel-5-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;execution_control&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
        <span class="s2">&quot;allocation&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;walltime&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qos&quot;</span><span class="p">:</span> <span class="s2">&quot;normal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;memory&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;feature&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;conda_env&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;module&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;sh_script&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;keep_sh&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;num_test_nodes&quot;</span><span class="p">:</span> <span class="n">null</span>
    <span class="p">},</span>
    <span class="s2">&quot;log_directory&quot;</span><span class="p">:</span> <span class="s2">&quot;./logs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_level&quot;</span><span class="p">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fp&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;layers&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;check_tiff&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;descriptions&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;overwrite&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;nodata&quot;</span><span class="p">:</span> <span class="n">null</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">execution_control</span><span class="p">:</span>
  <span class="n">option</span><span class="p">:</span> <span class="n">local</span>
  <span class="n">allocation</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED IF ON HPC]&#39;</span>
  <span class="n">walltime</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED IF ON HPC]&#39;</span>
  <span class="n">qos</span><span class="p">:</span> <span class="n">normal</span>
  <span class="n">memory</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">queue</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">feature</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">conda_env</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">module</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">sh_script</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">keep_sh</span><span class="p">:</span> <span class="n">false</span>
  <span class="n">num_test_nodes</span><span class="p">:</span> <span class="n">null</span>
<span class="n">log_directory</span><span class="p">:</span> <span class="o">./</span><span class="n">logs</span>
<span class="n">log_level</span><span class="p">:</span> <span class="n">INFO</span>
<span class="n">fp</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED]&#39;</span>
<span class="n">layers</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED]&#39;</span>
<span class="n">check_tiff</span><span class="p">:</span> <span class="n">true</span>
<span class="n">descriptions</span><span class="p">:</span> <span class="n">null</span>
<span class="n">overwrite</span><span class="p">:</span> <span class="n">false</span>
<span class="n">nodata</span><span class="p">:</span> <span class="n">null</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-VE9NTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-VE9NTA==" name="VE9NTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">log_directory</span> <span class="o">=</span> <span class="s2">&quot;./logs&quot;</span>
<span class="n">log_level</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span>
<span class="n">fp</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED]&quot;</span>
<span class="n">layers</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED]&quot;</span>
<span class="n">check_tiff</span> <span class="o">=</span> <span class="n">true</span>
<span class="n">overwrite</span> <span class="o">=</span> <span class="n">false</span>

<span class="p">[</span><span class="n">execution_control</span><span class="p">]</span>
<span class="n">option</span> <span class="o">=</span> <span class="s2">&quot;local&quot;</span>
<span class="n">allocation</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span>
<span class="n">walltime</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span>
<span class="n">qos</span> <span class="o">=</span> <span class="s2">&quot;normal&quot;</span>
<span class="n">keep_sh</span> <span class="o">=</span> <span class="n">false</span>
</pre></div>
</div>
</div></div>
<section id="id3">
<h3>Parameters<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<dl>
<dt>execution_control<span class="classifier">dict</span></dt><dd><p>Dictionary containing execution control arguments. Allowed arguments are:</p>
<dl class="field-list simple">
<dt class="field-odd">option<span class="colon">:</span></dt>
<dd class="field-odd"><p>({‘local’, ‘kestrel’, ‘eagle’, ‘awspc’, ‘slurm’, ‘peregrine’})
Hardware run option. Determines the type of job
scheduler to use as well as the base AU cost. The
“slurm” option is a catchall for HPC systems
that use the SLURM scheduler and <strong>should only be
used if desired hardware is not listed above</strong>. If
“local”, no other HPC-specific keys in are
required in <cite>execution_control</cite> (they are ignored
if provided).</p>
</dd>
<dt class="field-even">allocation<span class="colon">:</span></dt>
<dd class="field-even"><p>(str)
HPC project (allocation) handle.</p>
</dd>
<dt class="field-odd">walltime<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int)
Node walltime request in hours.</p>
</dd>
<dt class="field-even">qos<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Quality-of-service specifier. For Kestrel users:
This should be one of {‘standby’, ‘normal’,
‘high’}. Note that ‘high’ priority doubles the AU
cost. By default, <code class="docutils literal notranslate"><span class="pre">&quot;normal&quot;</span></code>.</p>
</dd>
<dt class="field-odd">memory<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int, optional)
Node memory max limit (in GB). By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which uses the scheduler’s default memory limit.
For Kestrel users: If you would like to use the
full node memory, leave this argument unspecified
(or set to <code class="docutils literal notranslate"><span class="pre">None</span></code>) if you are running on standard
nodes. However, if you would like to use the bigmem
nodes, you must specify the full upper limit of
memory you would like for your job, otherwise you
will be limited to the standard node memory size
(250GB).</p>
</dd>
<dt class="field-even">queue<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional; PBS ONLY)
HPC queue to submit job to. Examples include: ‘debug’,
‘short’, ‘batch’, ‘batch-h’, ‘long’, etc.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which uses “test_queue”.</p>
</dd>
<dt class="field-odd">feature<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, optional)
Additional flags for SLURM job (e.g. “-p debug”).
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not specify any
additional flags.</p>
</dd>
<dt class="field-even">conda_env<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Name of conda environment to activate. By default,
<code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not load any environments.</p>
</dd>
<dt class="field-odd">module<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, optional)
Module to load. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not
load any modules.</p>
</dd>
<dt class="field-even">sh_script<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Extra shell script to run before command call.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not run any
scripts.</p>
</dd>
<dt class="field-odd">keep_sh<span class="colon">:</span></dt>
<dd class="field-odd"><p>(bool, optional)
Option to keep the HPC submission script on disk.
Only has effect if executing on HPC. By default,
<code class="docutils literal notranslate"><span class="pre">False</span></code>, which purges the submission scripts
after each job is submitted.</p>
</dd>
<dt class="field-even">num_test_nodes<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Number of nodes to submit before terminating the
submission process. This can be used to test a
new submission configuration without submitting
all nodes (i.e. only running a handful to ensure
the inputs are specified correctly and the
outputs look reasonable). By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which submits all node jobs.</p>
</dd>
</dl>
<p>Only the <cite>option</cite> key is required for local execution. For execution on the HPC, the <cite>allocation</cite> and <cite>walltime</cite> keys are also required. All other options are populated with default values, as seen above.</p>
</dd>
<dt>log_directory<span class="classifier">str</span></dt><dd><p>Path to directory where logs should be written. Path can be relative and does not have to exist on disk (it will be created if missing). By default, <code class="docutils literal notranslate"><span class="pre">&quot;./logs&quot;</span></code>.</p>
</dd>
<dt>log_level<span class="classifier">{“DEBUG”, “INFO”, “WARNING”, “ERROR”}</span></dt><dd><p>String representation of desired logger verbosity. Suitable options are <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> (most verbose), <code class="docutils literal notranslate"><span class="pre">INFO</span></code> (moderately verbose), <code class="docutils literal notranslate"><span class="pre">WARNING</span></code> (only log warnings and errors), and <code class="docutils literal notranslate"><span class="pre">ERROR</span></code> (only log errors). By default, <code class="docutils literal notranslate"><span class="pre">&quot;INFO&quot;</span></code>.</p>
</dd>
<dt>fp<span class="classifier">path-like</span></dt><dd><p>Path to layered file on disk.</p>
</dd>
<dt>layers<span class="classifier">list | dict</span></dt><dd><p>Dictionary mapping layer names to GeoTIFFs filepaths. Each GeoTIFF will be loaded into the <code class="xref py py-class docutils literal notranslate"><span class="pre">LayeredFile</span></code> user the layer name. If a list of GeoTIFFs filepaths is provided, the file name stems are used as the layer names.</p>
</dd>
<dt>check_tiff<span class="classifier">bool, optional</span></dt><dd><p>Flag to check tiff profile and coordinates against layered file profile and coordinates. By default, <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt>overwrite<span class="classifier">bool, default=False</span></dt><dd><p>Option to overwrite layer data if layer already exists in <code class="xref py py-class docutils literal notranslate"><span class="pre">LayeredFile</span></code>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>When overwriting data, the encoding (and therefore things
like data type, nodata value, etc) is not allowed to
change. If you need to overwrite an existing layer with a
new type of data, manually remove it from the file first.</p>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt>nodata<span class="classifier">int | float, optional</span></dt><dd><p>Optional nodata value for the raster layer. This value will be added to the layer’s attributes meta dictionary under the “nodata” key.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">rioxarray</span></code> does not recognize the “nodata” value when
reading from a zarr file (because zarr uses the
<code class="docutils literal notranslate"><span class="pre">_FillValue</span></code> encoding internally). To get the correct
“nodata” value back when reading a <code class="xref py py-class docutils literal notranslate"><span class="pre">LayeredFile</span></code>,
you can either 1) read from <code class="docutils literal notranslate"><span class="pre">da.rio.encoded_nodata</span></code> or
2) check the layer’s attributes for the <code class="docutils literal notranslate"><span class="pre">&quot;nodata&quot;</span></code> key,
and if present, use <code class="docutils literal notranslate"><span class="pre">da.rio.write_nodata</span></code> to write the
nodata value so that <code class="docutils literal notranslate"><span class="pre">da.rio.nodata</span></code> gives the right
value.</p>
</div>
</dd>
</dl>
<p>Note that you may remove any keys with a <code class="docutils literal notranslate"><span class="pre">null</span></code> value if you do not intend to update them yourself.</p>
</section>
</dd></dl>

</section>
<section id="revrt-pipeline">
<h2>pipeline<a class="headerlink" href="#revrt-pipeline" title="Link to this heading">#</a></h2>
<p>Execute multiple steps in an analysis pipeline.</p>
<p>The general structure for calling this CLI command is given below (add <code class="docutils literal notranslate"><span class="pre">--help</span></code> to print help info to the terminal).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>reVRt<span class="w"> </span>pipeline<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-pipeline-c">
<span id="cmdoption-reVRt-pipeline-config_file"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--config_file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;config_file&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-pipeline-c" title="Link to this definition">#</a></dt>
<dd><p>Path to the <code class="docutils literal notranslate"><span class="pre">pipeline</span></code> configuration file. This argument can be
left out, but <em>one and only one file</em> with “pipeline” in the
name should exist in the directory and contain the config
information. Below is a sample template config</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-SlNPTi9KU09ONQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-6-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tab" tabindex="0">JSON/JSON5</button><button aria-controls="panel-6-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button><button aria-controls="panel-6-VE9NTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-VE9NTA==" name="VE9NTA==" role="tab" tabindex="-1">TOML</button></div><div aria-labelledby="tab-6-SlNPTi9KU09ONQ==" class="sphinx-tabs-panel group-tab" id="panel-6-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;pipeline&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;layers-to-file&quot;</span><span class="p">:</span> <span class="s2">&quot;./config_layers_to_file.json&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;layers-from-file&quot;</span><span class="p">:</span> <span class="s2">&quot;./config_layers_from_file.json&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;build-routing-layers&quot;</span><span class="p">:</span> <span class="s2">&quot;./config_build_routing_layers.json&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;route-characterization&quot;</span><span class="p">:</span> <span class="s2">&quot;./config_route_characterization.json&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="s2">&quot;./config_script.json&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;logging&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;log_file&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;log_level&quot;</span><span class="p">:</span> <span class="s2">&quot;INFO&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-6-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipeline</span><span class="p">:</span>
<span class="o">-</span> <span class="n">layers</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">file</span><span class="p">:</span> <span class="o">./</span><span class="n">config_layers_to_file</span><span class="o">.</span><span class="n">json</span>
<span class="o">-</span> <span class="n">layers</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">file</span><span class="p">:</span> <span class="o">./</span><span class="n">config_layers_from_file</span><span class="o">.</span><span class="n">json</span>
<span class="o">-</span> <span class="n">build</span><span class="o">-</span><span class="n">routing</span><span class="o">-</span><span class="n">layers</span><span class="p">:</span> <span class="o">./</span><span class="n">config_build_routing_layers</span><span class="o">.</span><span class="n">json</span>
<span class="o">-</span> <span class="n">route</span><span class="o">-</span><span class="n">characterization</span><span class="p">:</span> <span class="o">./</span><span class="n">config_route_characterization</span><span class="o">.</span><span class="n">json</span>
<span class="o">-</span> <span class="n">script</span><span class="p">:</span> <span class="o">./</span><span class="n">config_script</span><span class="o">.</span><span class="n">json</span>
<span class="n">logging</span><span class="p">:</span>
  <span class="n">log_file</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">log_level</span><span class="p">:</span> <span class="n">INFO</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-6-VE9NTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-VE9NTA==" name="VE9NTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="n">pipeline</span><span class="p">]]</span>
<span class="n">layers</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">file</span> <span class="o">=</span> <span class="s2">&quot;./config_layers_to_file.json&quot;</span>

<span class="p">[[</span><span class="n">pipeline</span><span class="p">]]</span>
<span class="n">layers</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">file</span> <span class="o">=</span> <span class="s2">&quot;./config_layers_from_file.json&quot;</span>

<span class="p">[[</span><span class="n">pipeline</span><span class="p">]]</span>
<span class="n">build</span><span class="o">-</span><span class="n">routing</span><span class="o">-</span><span class="n">layers</span> <span class="o">=</span> <span class="s2">&quot;./config_build_routing_layers.json&quot;</span>

<span class="p">[[</span><span class="n">pipeline</span><span class="p">]]</span>
<span class="n">route</span><span class="o">-</span><span class="n">characterization</span> <span class="o">=</span> <span class="s2">&quot;./config_route_characterization.json&quot;</span>

<span class="p">[[</span><span class="n">pipeline</span><span class="p">]]</span>
<span class="n">script</span> <span class="o">=</span> <span class="s2">&quot;./config_script.json&quot;</span>

<span class="p">[</span><span class="n">logging</span><span class="p">]</span>
<span class="n">log_level</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span>
</pre></div>
</div>
</div></div>
<section id="id4">
<h3>Parameters<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<dl>
<dt>pipeline<span class="classifier">list of dicts</span></dt><dd><p>A list of dictionaries, where each dictionary represents one
step in the pipeline. Each dictionary should have one of two
configurations:</p>
<blockquote>
<div><ul class="simple">
<li><p>A single key-value pair, where the key is the name of
the CLI command to run, and the value is the path to
a config file containing the configuration for that
command</p></li>
<li><p>Exactly two key-value pairs, where one of the keys is
<code class="docutils literal notranslate"><span class="pre">&quot;command&quot;</span></code>, with a value that points to the name of
a command to execute, while the second key is a _unique_
user-defined name of the pipeline step to execute, with
a value that points to the path to a config file
containing the configuration for the command specified
by the other key. This configuration allows users to
specify duplicate commands as part of their pipeline
execution.</p></li>
</ul>
</div></blockquote>
</dd>
<dt>logging<span class="classifier">dict, optional</span></dt><dd><p>Dictionary containing keyword-argument pairs to pass to
<a class="reference external" href="https://tinyurl.com/47hakp7f/">init_logger</a>. This
initializes logging for the submission portion of the
pipeline. Note, however, that each step (command) will
<strong>also</strong> record the submission step log output to a
common “project” log file, so it’s only ever necessary
to use this input if you want a different (lower) level
of verbosity than the <cite>log_level</cite> specified in the
config for the step of the pipeline being executed.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-pipeline-cancel">
<span class="sig-name descname"><span class="pre">--cancel</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-pipeline-cancel" title="Link to this definition">#</a></dt>
<dd><p>Flag to cancel all jobs associated with a given pipeline.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-pipeline-monitor">
<span class="sig-name descname"><span class="pre">--monitor</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-pipeline-monitor" title="Link to this definition">#</a></dt>
<dd><p>Flag to monitor pipeline jobs continuously. Default is not to monitor (kick off jobs and exit).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-pipeline-r">
<span id="cmdoption-reVRt-pipeline-recursive"></span><span class="sig-name descname"><span class="pre">-r</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--recursive</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-pipeline-r" title="Link to this definition">#</a></dt>
<dd><p>Flag to recursively submit pipelines, starting from the current directory and checking every sub-directory therein. The <cite>-c</cite> option will be <em>completely ignored</em> if you use this option. Instead, the code will check every sub-directory for exactly one file with the word <cite>pipeline</cite> in it. If found, that file is assumed to be the pipeline config and is used to kick off the pipeline. In any other case, the directory is skipped.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-pipeline-background">
<span class="sig-name descname"><span class="pre">--background</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-pipeline-background" title="Link to this definition">#</a></dt>
<dd><p>Flag to monitor pipeline jobs continuously in the background. Note that the stdout/stderr will not be captured, but you can set a pipeline ‘log_file’ to capture logs.</p>
</dd></dl>

</section>
<section id="revrt-reset-status">
<h2>reset-status<a class="headerlink" href="#revrt-reset-status" title="Link to this heading">#</a></h2>
<p>Reset the pipeline/job status (progress) for a given directory (defaults to <code class="docutils literal notranslate"><span class="pre">./</span></code>). Multiple directories can be supplied to reset the status of each.</p>
<p>The general structure for calling this CLI command is given below (add <code class="docutils literal notranslate"><span class="pre">--help</span></code> to print help info to the terminal).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>reVRt<span class="w"> </span>reset-status<span class="w"> </span><span class="o">[</span>DIRECTORY<span class="o">]</span>...
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-reset-status-f">
<span id="cmdoption-reVRt-reset-status-force"></span><span class="sig-name descname"><span class="pre">-f</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--force</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-reset-status-f" title="Link to this definition">#</a></dt>
<dd><p>Force pipeline status reset even if jobs are queued/running</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-reset-status-a">
<span id="cmdoption-reVRt-reset-status-after-step"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--after-step</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;after_step&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-reset-status-a" title="Link to this definition">#</a></dt>
<dd><p>Reset pipeline starting after the given pipeline step. The status of this step will remain unaffected, but the status of steps following it will be reset completely.</p>
</dd></dl>

<p class="rubric">Arguments</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-reset-status-arg-DIRECTORY">
<span class="sig-name descname"><span class="pre">DIRECTORY</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-reset-status-arg-DIRECTORY" title="Link to this definition">#</a></dt>
<dd><p>Optional argument(s)</p>
</dd></dl>

</section>
<section id="revrt-route-characterization">
<h2>route-characterization<a class="headerlink" href="#revrt-route-characterization" title="Link to this heading">#</a></h2>
<p>Execute the <code class="docutils literal notranslate"><span class="pre">route-characterization</span></code> step from a config file.</p>
<p>The general structure for calling this CLI command is given below
(add <code class="docutils literal notranslate"><span class="pre">--help</span></code> to print help info to the terminal).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>reVRt<span class="w"> </span>route-characterization<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-route-characterization-c">
<span id="cmdoption-reVRt-route-characterization-config_file"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--config_file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;config_file&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-route-characterization-c" title="Link to this definition">#</a></dt>
<dd><p><strong>Required</strong> Path to the <code class="docutils literal notranslate"><span class="pre">route-characterization</span></code> configuration file. Below is a sample template config</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-SlNPTi9KU09ONQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-7-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tab" tabindex="0">JSON/JSON5</button><button aria-controls="panel-7-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button><button aria-controls="panel-7-VE9NTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-VE9NTA==" name="VE9NTA==" role="tab" tabindex="-1">TOML</button></div><div aria-labelledby="tab-7-SlNPTi9KU09ONQ==" class="sphinx-tabs-panel group-tab" id="panel-7-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;execution_control&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
        <span class="s2">&quot;allocation&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;walltime&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qos&quot;</span><span class="p">:</span> <span class="s2">&quot;normal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;memory&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;feature&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;conda_env&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;module&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;sh_script&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;keep_sh&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;num_test_nodes&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;max_workers&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;memory_limit_per_worker&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;log_directory&quot;</span><span class="p">:</span> <span class="s2">&quot;./logs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_level&quot;</span><span class="p">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;layers&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;default_route_fp&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;default_copy_properties&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;default_row_width_key&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;default_chunks&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;row_widths&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;row_width_ranges&quot;</span><span class="p">:</span> <span class="n">null</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-7-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">execution_control</span><span class="p">:</span>
  <span class="n">option</span><span class="p">:</span> <span class="n">local</span>
  <span class="n">allocation</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED IF ON HPC]&#39;</span>
  <span class="n">walltime</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED IF ON HPC]&#39;</span>
  <span class="n">qos</span><span class="p">:</span> <span class="n">normal</span>
  <span class="n">memory</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">queue</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">feature</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">conda_env</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">module</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">sh_script</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">keep_sh</span><span class="p">:</span> <span class="n">false</span>
  <span class="n">num_test_nodes</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">max_workers</span><span class="p">:</span> <span class="mi">1</span>
  <span class="n">memory_limit_per_worker</span><span class="p">:</span> <span class="n">auto</span>
<span class="n">log_directory</span><span class="p">:</span> <span class="o">./</span><span class="n">logs</span>
<span class="n">log_level</span><span class="p">:</span> <span class="n">INFO</span>
<span class="n">layers</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED]&#39;</span>
<span class="n">default_route_fp</span><span class="p">:</span> <span class="n">null</span>
<span class="n">default_copy_properties</span><span class="p">:</span> <span class="n">null</span>
<span class="n">default_row_width_key</span><span class="p">:</span> <span class="n">null</span>
<span class="n">default_chunks</span><span class="p">:</span> <span class="n">null</span>
<span class="n">row_widths</span><span class="p">:</span> <span class="n">null</span>
<span class="n">row_width_ranges</span><span class="p">:</span> <span class="n">null</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-7-VE9NTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-VE9NTA==" name="VE9NTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">log_directory</span> <span class="o">=</span> <span class="s2">&quot;./logs&quot;</span>
<span class="n">log_level</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span>
<span class="n">layers</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED]&quot;</span>

<span class="p">[</span><span class="n">execution_control</span><span class="p">]</span>
<span class="n">option</span> <span class="o">=</span> <span class="s2">&quot;local&quot;</span>
<span class="n">allocation</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span>
<span class="n">walltime</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span>
<span class="n">qos</span> <span class="o">=</span> <span class="s2">&quot;normal&quot;</span>
<span class="n">keep_sh</span> <span class="o">=</span> <span class="n">false</span>
<span class="n">max_workers</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">memory_limit_per_worker</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span>
</pre></div>
</div>
</div></div>
<section id="id6">
<h3>Parameters<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<dl>
<dt>execution_control<span class="classifier">dict</span></dt><dd><p>Dictionary containing execution control arguments. Allowed arguments are:</p>
<dl class="field-list simple">
<dt class="field-odd">option<span class="colon">:</span></dt>
<dd class="field-odd"><p>({‘local’, ‘kestrel’, ‘eagle’, ‘awspc’, ‘slurm’, ‘peregrine’})
Hardware run option. Determines the type of job
scheduler to use as well as the base AU cost. The
“slurm” option is a catchall for HPC systems
that use the SLURM scheduler and <strong>should only be
used if desired hardware is not listed above</strong>. If
“local”, no other HPC-specific keys in are
required in <cite>execution_control</cite> (they are ignored
if provided).</p>
</dd>
<dt class="field-even">allocation<span class="colon">:</span></dt>
<dd class="field-even"><p>(str)
HPC project (allocation) handle.</p>
</dd>
<dt class="field-odd">walltime<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int)
Node walltime request in hours.</p>
</dd>
<dt class="field-even">qos<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Quality-of-service specifier. For Kestrel users:
This should be one of {‘standby’, ‘normal’,
‘high’}. Note that ‘high’ priority doubles the AU
cost. By default, <code class="docutils literal notranslate"><span class="pre">&quot;normal&quot;</span></code>.</p>
</dd>
<dt class="field-odd">memory<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int, optional)
Node memory max limit (in GB). By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which uses the scheduler’s default memory limit.
For Kestrel users: If you would like to use the
full node memory, leave this argument unspecified
(or set to <code class="docutils literal notranslate"><span class="pre">None</span></code>) if you are running on standard
nodes. However, if you would like to use the bigmem
nodes, you must specify the full upper limit of
memory you would like for your job, otherwise you
will be limited to the standard node memory size
(250GB).</p>
</dd>
<dt class="field-even">max_workers<span class="colon">:</span></dt>
<dd class="field-even"><p>(int, optional)
Number of parallel workers to use for computation. If <code class="docutils literal notranslate"><span class="pre">None</span></code> or &gt;1, processing is performed in parallel (using Dask). If your paths span large areas, keep this value low (~10) to avoid running into memory errors. By default, <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd>
<dt class="field-odd">memory_limit_per_worker<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, float, int, or None, default=”auto”)
Sets the memory limit <em>per worker</em>. This only applies if <code class="docutils literal notranslate"><span class="pre">max_workers</span> <span class="pre">!=</span> <span class="pre">1</span></code>. If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>, no limit is applied. If <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code>, the total system memory is split evenly between the workers. If a float, that fraction of the system memory is used <em>per worker</em>. If a string giving a number  of bytes (like “1GiB”), that amount is used <em>per worker</em>. If an int, that number of bytes is used <em>per worker</em>. By default, <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code></p>
</dd>
<dt class="field-even">queue<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional; PBS ONLY)
HPC queue to submit job to. Examples include: ‘debug’,
‘short’, ‘batch’, ‘batch-h’, ‘long’, etc.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which uses “test_queue”.</p>
</dd>
<dt class="field-odd">feature<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, optional)
Additional flags for SLURM job (e.g. “-p debug”).
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not specify any
additional flags.</p>
</dd>
<dt class="field-even">conda_env<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Name of conda environment to activate. By default,
<code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not load any environments.</p>
</dd>
<dt class="field-odd">module<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, optional)
Module to load. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not
load any modules.</p>
</dd>
<dt class="field-even">sh_script<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Extra shell script to run before command call.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not run any
scripts.</p>
</dd>
<dt class="field-odd">keep_sh<span class="colon">:</span></dt>
<dd class="field-odd"><p>(bool, optional)
Option to keep the HPC submission script on disk.
Only has effect if executing on HPC. By default,
<code class="docutils literal notranslate"><span class="pre">False</span></code>, which purges the submission scripts
after each job is submitted.</p>
</dd>
<dt class="field-even">num_test_nodes<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Number of nodes to submit before terminating the
submission process. This can be used to test a
new submission configuration without submitting
all nodes (i.e. only running a handful to ensure
the inputs are specified correctly and the
outputs look reasonable). By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which submits all node jobs.</p>
</dd>
</dl>
<p>Only the <cite>option</cite> key is required for local execution. For execution on the HPC, the <cite>allocation</cite> and <cite>walltime</cite> keys are also required. All other options are populated with default values, as seen above.</p>
</dd>
<dt>log_directory<span class="classifier">str</span></dt><dd><p>Path to directory where logs should be written. Path can be relative and does not have to exist on disk (it will be created if missing). By default, <code class="docutils literal notranslate"><span class="pre">&quot;./logs&quot;</span></code>.</p>
</dd>
<dt>log_level<span class="classifier">{“DEBUG”, “INFO”, “WARNING”, “ERROR”}</span></dt><dd><p>String representation of desired logger verbosity. Suitable options are <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> (most verbose), <code class="docutils literal notranslate"><span class="pre">INFO</span></code> (moderately verbose), <code class="docutils literal notranslate"><span class="pre">WARNING</span></code> (only log warnings and errors), and <code class="docutils literal notranslate"><span class="pre">ERROR</span></code> (only log errors). By default, <code class="docutils literal notranslate"><span class="pre">&quot;INFO&quot;</span></code>.</p>
</dd>
<dt>layers<span class="classifier">dict or list of dict</span></dt><dd><p>A single dictionary or a list of dictionaries specifying the statistics to compute. Each dictionary should contain the following keys:</p>
<blockquote>
<div><ul>
<li><p>geotiff_fp: (REQUIRED) Path to the raster file.</p></li>
<li><p>route_fp: (REQUIRED) Path to the vector file of routes.
Must contain a “geometry” column and the <cite>row_width_key</cite>
column (used to map to path ROW width).</p></li>
<li><p>stats: (OPTIONAL) Names of all statistics to compute.
Statistics must be one of the members of
<a class="reference internal" href="../_autosummary/revrt.spatial_characterization.stats.Stat.html#revrt.spatial_characterization.stats.Stat" title="revrt.spatial_characterization.stats.Stat"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stat</span></code></a> or
<a class="reference internal" href="../_autosummary/revrt.spatial_characterization.stats.FractionalStat.html#revrt.spatial_characterization.stats.FractionalStat" title="revrt.spatial_characterization.stats.FractionalStat"><code class="xref py py-class docutils literal notranslate"><span class="pre">FractionalStat</span></code></a>,
or must start with the <code class="docutils literal notranslate"><span class="pre">percentile_</span></code> prefix and end with
an int or float representing the percentile to compute
(e.g. <code class="docutils literal notranslate"><span class="pre">percentile_10.5</span></code>). If only one statistic is to be
computed, you can provide it directly as a string.
Otherwise, provide a list of statistic names or a string
with the names separated by a space. You can also provide
the string <code class="docutils literal notranslate"><span class="pre">&quot;ALL&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code> to specify that all
statistics should be computed (i.e. all options from
<em>both</em>
<a class="reference internal" href="../_autosummary/revrt.spatial_characterization.stats.Stat.html#revrt.spatial_characterization.stats.Stat" title="revrt.spatial_characterization.stats.Stat"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stat</span></code></a> and
<a class="reference internal" href="../_autosummary/revrt.spatial_characterization.stats.FractionalStat.html#revrt.spatial_characterization.stats.FractionalStat" title="revrt.spatial_characterization.stats.FractionalStat"><code class="xref py py-class docutils literal notranslate"><span class="pre">FractionalStat</span></code></a>).
If no input, empty input, or <code class="docutils literal notranslate"><span class="pre">None</span></code> is provided, then
only the base stats (“count”, “min”, “max”, “mean”) are
configured. To summarize, all of the following are valid
inputs:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stats:</span> <span class="pre">&quot;*&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">stats=&quot;ALL&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">stats=&quot;All&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats:</span> <span class="pre">&quot;min&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats:</span> <span class="pre">&quot;min</span> <span class="pre">max&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats:</span> <span class="pre">[&quot;min&quot;]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats:</span> <span class="pre">[&quot;min&quot;,</span> <span class="pre">&quot;max&quot;,</span> <span class="pre">&quot;percentile_10.5&quot;]</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>nodata : (OPTIONAL) Value in the raster that represents
<cite>nodata</cite>. This value will not show up in any statistics
except for the <cite>nodata</cite> statistic itself, which computes
the number of <cite>nodata</cite> values within the buffered routes.
Note that this value is used <strong>in addition to</strong> any
<cite>NODATA</cite> value in the raster’s metadata.</p></li>
<li><p>all_touched : (OPTIONAL) Boolean flag indicating whether
to include every raster cell touched by a geometry
(<code class="docutils literal notranslate"><span class="pre">True</span></code>), or only those having a center point within the
polygon (<code class="docutils literal notranslate"><span class="pre">False</span></code>). By default, <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p>category_map : (OPTIONAL) Dictionary mapping raster values
to new names. If given, this mapping will be applied to
the pixel count dictionary, so you can use it to map
raster values to human-readable category names.</p></li>
<li><p>multiplier_scalar: (OPTIONAL) Optional multiplier value to
apply to layer before computing statistics. This is useful
if you want to scale the values in the raster before
computing statistics. By default, <code class="docutils literal notranslate"><span class="pre">1.0</span></code>.</p></li>
<li><p>prefix: (OPTIONAL) A string representing a prefix to add
to each stat name. If you wish to have the prefix
separated by a delimiter, you must include it in this
string (e.g. <code class="docutils literal notranslate"><span class="pre">prefix=&quot;test_&quot;</span></code>).</p></li>
<li><p>copy_properties: (OPTIONAL) List of columns names to copy
over from the vector file of routes.</p></li>
<li><p>row_width_key: (OPTIONAL) Name of column in vector file of
routes used to map to the ROW widths.
By default, <code class="docutils literal notranslate"><span class="pre">&quot;voltage&quot;</span></code>.</p></li>
<li><p>chunks : (OPTIONAL) <code class="docutils literal notranslate"><span class="pre">chunks</span></code> keyword argument to pass
down to <a class="reference external" href="https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.open_rasterio" title="(in rioxarray v0.19.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">rioxarray.open_rasterio()</span></code></a>. Use this to
control the Dask chunk size. By default, <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code>.</p></li>
</ul>
</div></blockquote>
</dd>
<dt>default_route_fp<span class="classifier">path-like, optional</span></dt><dd><p>Default path to the vector file of routes. This will be used <em>only if</em> no <cite>route_fp</cite> is provided in a layer’s stats dictionary. Must contain a “geometry” column and the <cite>row_width_key</cite> column (used to map to path ROW width). By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>default_copy_properties<span class="classifier">iterable of str, optional</span></dt><dd><p>Default iterable of columns names to copy over from the zone feature. This will be used <em>only if</em> no <cite>copy_properties</cite> is provided in a layer’s stats dictionary. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>default_row_width_key<span class="classifier">str, optional</span></dt><dd><p>Default name of column in vector file of routes used to map to the ROW widths. This will be used <em>only if</em> no <cite>row_width_key</cite> is provided in a layer’s stats dictionary. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>default_chunks<span class="classifier">tuple or str, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">chunks</span></code> keyword argument to pass down to <a class="reference external" href="https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.open_rasterio" title="(in rioxarray v0.19.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">rioxarray.open_rasterio()</span></code></a>. This will be used <em>only if</em> no <cite>chunks</cite> is provided in a layer’s stats dictionary. Use this to control the Dask chunk size. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which uses <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code> as the final chunk input.</p>
</dd>
<dt>row_widths<span class="classifier">dict or path-like, optional</span></dt><dd><p>A dictionary specifying the row widths in the following format: <code class="docutils literal notranslate"><span class="pre">{&quot;row_width_id&quot;:</span> <span class="pre">row_width_meters}</span></code>. The <code class="docutils literal notranslate"><span class="pre">row_width_id</span></code> is a value used to match each route with a particular ROW width (this is typically a voltage). The value should be found under the <code class="docutils literal notranslate"><span class="pre">row_width_key</span></code> entry of the <code class="docutils literal notranslate"><span class="pre">route_fp</span></code>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>At least one of <cite>row_widths</cite> or <cite>row_width_ranges</cite> must be
provided.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Routes without a valid voltage in the <cite>row_widths</cite> or
<cite>row_width_ranges</cite> input will not be characterized.</p>
</div>
<p>If a path is provided, it should point to a JSON file containing the row width dictionary as specified above. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>row_width_ranges<span class="classifier">list, optional</span></dt><dd><p>Optional list of dictionaries, where each dictionary contains the keys “min”, “max”, and “width”. This can be used to specify row widths based on ranges of values (e.g. voltage). For example, the following input:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">70</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">70</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">350</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">40</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>would map voltages in the range <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">volt</span> <span class="pre">&lt;</span> <span class="pre">70</span></code> to a row width of 20 meters, <code class="docutils literal notranslate"><span class="pre">70</span> <span class="pre">&lt;=</span> <span class="pre">volt</span> <span class="pre">&lt;</span> <span class="pre">150</span></code> to a row width of 30 meters, <code class="docutils literal notranslate"><span class="pre">200</span> <span class="pre">&lt;=</span> <span class="pre">volt</span> <span class="pre">&lt;</span> <span class="pre">350</span></code> to a row width of 40 meters, and so-on.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Any values in the <cite>row_widths</cite> dict will take precedence
over these ranges. So if a voltage of 138 kV is mapped to a
row width of 25 meters in the <cite>row_widths</cite> dict, that value
will be used instead of the 30 meter width specified by the
ranges above.</p>
</div>
<p>If a path is provided, it should point to a JSON file containing the list of dictionaries. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
<p>Note that you may remove any keys with a <code class="docutils literal notranslate"><span class="pre">null</span></code> value if you do not intend to update them yourself.</p>
</section>
</dd></dl>

</section>
<section id="revrt-script">
<h2>script<a class="headerlink" href="#revrt-script" title="Link to this heading">#</a></h2>
<p>Execute the <code class="docutils literal notranslate"><span class="pre">script</span></code> step from a config file.</p>
<p>This command runs one or more terminal commands/scripts as part of a
pipeline step.</p>
<p>The general structure for calling this CLI command is given below
(add <code class="docutils literal notranslate"><span class="pre">--help</span></code> to print help info to the terminal).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>reVRt<span class="w"> </span>script<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-script-c">
<span id="cmdoption-reVRt-script-config_file"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--config_file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;config_file&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-script-c" title="Link to this definition">#</a></dt>
<dd><p><strong>Required</strong> Path to the <code class="docutils literal notranslate"><span class="pre">script</span></code> configuration file. Below is a sample template config</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-8-SlNPTi9KU09ONQ==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-8-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tab" tabindex="0">JSON/JSON5</button><button aria-controls="panel-8-WUFNTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-8-WUFNTA==" name="WUFNTA==" role="tab" tabindex="-1">YAML</button><button aria-controls="panel-8-VE9NTA==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-8-VE9NTA==" name="VE9NTA==" role="tab" tabindex="-1">TOML</button></div><div aria-labelledby="tab-8-SlNPTi9KU09ONQ==" class="sphinx-tabs-panel group-tab" id="panel-8-SlNPTi9KU09ONQ==" name="SlNPTi9KU09ONQ==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;execution_control&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
        <span class="s2">&quot;allocation&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;walltime&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qos&quot;</span><span class="p">:</span> <span class="s2">&quot;normal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;memory&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;feature&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;conda_env&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;module&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;sh_script&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;keep_sh&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;num_test_nodes&quot;</span><span class="p">:</span> <span class="n">null</span>
    <span class="p">},</span>
    <span class="s2">&quot;log_directory&quot;</span><span class="p">:</span> <span class="s2">&quot;./logs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_level&quot;</span><span class="p">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cmd&quot;</span><span class="p">:</span> <span class="s2">&quot;[REQUIRED]&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-8-WUFNTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-8-WUFNTA==" name="WUFNTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">execution_control</span><span class="p">:</span>
  <span class="n">option</span><span class="p">:</span> <span class="n">local</span>
  <span class="n">allocation</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED IF ON HPC]&#39;</span>
  <span class="n">walltime</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED IF ON HPC]&#39;</span>
  <span class="n">qos</span><span class="p">:</span> <span class="n">normal</span>
  <span class="n">memory</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">queue</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">feature</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">conda_env</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">module</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">sh_script</span><span class="p">:</span> <span class="n">null</span>
  <span class="n">keep_sh</span><span class="p">:</span> <span class="n">false</span>
  <span class="n">num_test_nodes</span><span class="p">:</span> <span class="n">null</span>
<span class="n">log_directory</span><span class="p">:</span> <span class="o">./</span><span class="n">logs</span>
<span class="n">log_level</span><span class="p">:</span> <span class="n">INFO</span>
<span class="n">cmd</span><span class="p">:</span> <span class="s1">&#39;[REQUIRED]&#39;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-8-VE9NTA==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-8-VE9NTA==" name="VE9NTA==" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">log_directory</span> <span class="o">=</span> <span class="s2">&quot;./logs&quot;</span>
<span class="n">log_level</span> <span class="o">=</span> <span class="s2">&quot;INFO&quot;</span>
<span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED]&quot;</span>

<span class="p">[</span><span class="n">execution_control</span><span class="p">]</span>
<span class="n">option</span> <span class="o">=</span> <span class="s2">&quot;local&quot;</span>
<span class="n">allocation</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span>
<span class="n">walltime</span> <span class="o">=</span> <span class="s2">&quot;[REQUIRED IF ON HPC]&quot;</span>
<span class="n">qos</span> <span class="o">=</span> <span class="s2">&quot;normal&quot;</span>
<span class="n">keep_sh</span> <span class="o">=</span> <span class="n">false</span>
</pre></div>
</div>
</div></div>
<section id="id7">
<h3>Parameters<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<dl>
<dt>execution_control<span class="classifier">dict</span></dt><dd><p>Dictionary containing execution control arguments. Allowed arguments are:</p>
<dl class="field-list simple">
<dt class="field-odd">option<span class="colon">:</span></dt>
<dd class="field-odd"><p>({‘local’, ‘kestrel’, ‘eagle’, ‘awspc’, ‘slurm’, ‘peregrine’})
Hardware run option. Determines the type of job
scheduler to use as well as the base AU cost. The
“slurm” option is a catchall for HPC systems
that use the SLURM scheduler and <strong>should only be
used if desired hardware is not listed above</strong>. If
“local”, no other HPC-specific keys in are
required in <cite>execution_control</cite> (they are ignored
if provided).</p>
</dd>
<dt class="field-even">allocation<span class="colon">:</span></dt>
<dd class="field-even"><p>(str)
HPC project (allocation) handle.</p>
</dd>
<dt class="field-odd">walltime<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int)
Node walltime request in hours.</p>
</dd>
<dt class="field-even">qos<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Quality-of-service specifier. For Kestrel users:
This should be one of {‘standby’, ‘normal’,
‘high’}. Note that ‘high’ priority doubles the AU
cost. By default, <code class="docutils literal notranslate"><span class="pre">&quot;normal&quot;</span></code>.</p>
</dd>
<dt class="field-odd">memory<span class="colon">:</span></dt>
<dd class="field-odd"><p>(int, optional)
Node memory max limit (in GB). By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which uses the scheduler’s default memory limit.
For Kestrel users: If you would like to use the
full node memory, leave this argument unspecified
(or set to <code class="docutils literal notranslate"><span class="pre">None</span></code>) if you are running on standard
nodes. However, if you would like to use the bigmem
nodes, you must specify the full upper limit of
memory you would like for your job, otherwise you
will be limited to the standard node memory size
(250GB).</p>
</dd>
<dt class="field-even">queue<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional; PBS ONLY)
HPC queue to submit job to. Examples include: ‘debug’,
‘short’, ‘batch’, ‘batch-h’, ‘long’, etc.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which uses “test_queue”.</p>
</dd>
<dt class="field-odd">feature<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, optional)
Additional flags for SLURM job (e.g. “-p debug”).
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not specify any
additional flags.</p>
</dd>
<dt class="field-even">conda_env<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Name of conda environment to activate. By default,
<code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not load any environments.</p>
</dd>
<dt class="field-odd">module<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str, optional)
Module to load. By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not
load any modules.</p>
</dd>
<dt class="field-even">sh_script<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Extra shell script to run before command call.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>, which does not run any
scripts.</p>
</dd>
<dt class="field-odd">keep_sh<span class="colon">:</span></dt>
<dd class="field-odd"><p>(bool, optional)
Option to keep the HPC submission script on disk.
Only has effect if executing on HPC. By default,
<code class="docutils literal notranslate"><span class="pre">False</span></code>, which purges the submission scripts
after each job is submitted.</p>
</dd>
<dt class="field-even">num_test_nodes<span class="colon">:</span></dt>
<dd class="field-even"><p>(str, optional)
Number of nodes to submit before terminating the
submission process. This can be used to test a
new submission configuration without submitting
all nodes (i.e. only running a handful to ensure
the inputs are specified correctly and the
outputs look reasonable). By default, <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which submits all node jobs.</p>
</dd>
</dl>
<p>Only the <cite>option</cite> key is required for local execution. For execution on the HPC, the <cite>allocation</cite> and <cite>walltime</cite> keys are also required. All other options are populated with default values, as seen above.</p>
</dd>
<dt>log_directory<span class="classifier">str</span></dt><dd><p>Path to directory where logs should be written. Path can be relative and does not have to exist on disk (it will be created if missing). By default, <code class="docutils literal notranslate"><span class="pre">&quot;./logs&quot;</span></code>.</p>
</dd>
<dt>log_level<span class="classifier">{“DEBUG”, “INFO”, “WARNING”, “ERROR”}</span></dt><dd><p>String representation of desired logger verbosity. Suitable options are <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> (most verbose), <code class="docutils literal notranslate"><span class="pre">INFO</span></code> (moderately verbose), <code class="docutils literal notranslate"><span class="pre">WARNING</span></code> (only log warnings and errors), and <code class="docutils literal notranslate"><span class="pre">ERROR</span></code> (only log errors). By default, <code class="docutils literal notranslate"><span class="pre">&quot;INFO&quot;</span></code>.</p>
</dd>
<dt>cmd<span class="classifier">str | list</span></dt><dd><p>A single command represented as a string or a list of command strings to execute on a node. If the input is a list, each command string in the list will be executed on a separate node. For example, to run a python script, simply specify</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;cmd&quot;</span><span class="p">:</span> <span class="s2">&quot;python my_script.py&quot;</span>
</pre></div>
</div>
<p>This will run the python file “my_script.py” (in the project directory) on a single node.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It is inefficient to run scripts that only use a
single processor on HPC nodes for extended periods of time.
Always make sure your long-running scripts use Python’s
multiprocessing library wherever possible to make the most
use of shared HPC resources.</p>
</div>
<p>To run multiple commands in parallel, supply them as a list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;cmd&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;python /path/to/my_script/py -a -out out_file.txt&quot;</span><span class="p">,</span>
    <span class="s2">&quot;wget https://website.org/latest.zip&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
<p>This input will run two commands (a python script with the specified arguments and a <code class="docutils literal notranslate"><span class="pre">wget</span></code> command to download a file from the web), each on their own node and in parallel as part of this pipeline step. Note that commands are always executed from the project directory.</p>
</dd>
</dl>
<p>Note that you may remove any keys with a <code class="docutils literal notranslate"><span class="pre">null</span></code> value if you do not intend to update them yourself.</p>
</section>
</dd></dl>

</section>
<section id="revrt-status">
<h2>status<a class="headerlink" href="#revrt-status" title="Link to this heading">#</a></h2>
<p>Display the status of a project FOLDER.</p>
<p>By default, the status of the current working directory is displayed.</p>
<p>The general structure for calling this CLI command is given below
(add <code class="docutils literal notranslate"><span class="pre">--help</span></code> to print help info to the terminal).”</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>reVRt<span class="w"> </span>status<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span><span class="o">[</span>FOLDER<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-status-ps">
<span id="cmdoption-reVRt-status-pipe_steps"></span><span class="sig-name descname"><span class="pre">-ps</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--pipe_steps</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;pipe_steps&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-status-ps" title="Link to this definition">#</a></dt>
<dd><p>Filter status for the given pipeline step(s). Multiple steps can be specified by repeating this option (e.g. <code class="code docutils literal notranslate"><span class="pre">-ps</span> <span class="pre">step1</span> <span class="pre">-ps</span> <span class="pre">step2</span> <span class="pre">...</span></code>) By default, the status of all pipeline steps is displayed.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-status-s">
<span id="cmdoption-reVRt-status-status"></span><span class="sig-name descname"><span class="pre">-s</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--status</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;status&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-status-s" title="Link to this definition">#</a></dt>
<dd><p>Filter jobs for the requested status(es). Allowed options (case-insensitive)
include:</p>
<blockquote>
<div><ul class="simple">
<li><p>Failed: <code class="docutils literal notranslate"><span class="pre">failure</span></code> <code class="docutils literal notranslate"><span class="pre">fail</span></code> <code class="docutils literal notranslate"><span class="pre">failed</span></code> <code class="docutils literal notranslate"><span class="pre">f</span></code></p></li>
<li><p>Running: <code class="docutils literal notranslate"><span class="pre">running</span></code> <code class="docutils literal notranslate"><span class="pre">run</span></code> <code class="docutils literal notranslate"><span class="pre">r</span></code></p></li>
<li><p>Submitted: <code class="docutils literal notranslate"><span class="pre">submitted</span></code> <code class="docutils literal notranslate"><span class="pre">submit</span></code> <code class="docutils literal notranslate"><span class="pre">sb</span></code> <code class="docutils literal notranslate"><span class="pre">pending</span></code> <code class="docutils literal notranslate"><span class="pre">pend</span></code> <code class="docutils literal notranslate"><span class="pre">p</span></code></p></li>
<li><p>Success: <code class="docutils literal notranslate"><span class="pre">successful</span></code> <code class="docutils literal notranslate"><span class="pre">success</span></code> <code class="docutils literal notranslate"><span class="pre">s</span></code></p></li>
<li><p>Not submitted: <code class="docutils literal notranslate"><span class="pre">unsubmitted</span></code> <code class="docutils literal notranslate"><span class="pre">unsubmit</span></code> <code class="docutils literal notranslate"><span class="pre">u</span></code> <code class="docutils literal notranslate"><span class="pre">not_submitted</span></code> <code class="docutils literal notranslate"><span class="pre">ns</span></code></p></li>
</ul>
</div></blockquote>
<p>Multiple status keys can be specified by repeating this option
(e.g. <code class="code docutils literal notranslate"><span class="pre">-s</span> <span class="pre">status1</span> <span class="pre">-s</span> <span class="pre">status2</span> <span class="pre">...</span></code>). By default, all status values are
displayed.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-status-i">
<span id="cmdoption-reVRt-status-include"></span><span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--include</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;include&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-status-i" title="Link to this definition">#</a></dt>
<dd><p>Extra status keys to include in the print output for each job. Multiple status keys can be specified by repeating this option (e.g. <code class="code docutils literal notranslate"><span class="pre">-i</span> <span class="pre">key1</span> <span class="pre">-i</span> <span class="pre">key2</span> <span class="pre">...</span></code>) By default, no extra keys are displayed.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-status-r">
<span id="cmdoption-reVRt-status-recursive"></span><span class="sig-name descname"><span class="pre">-r</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--recursive</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-status-r" title="Link to this definition">#</a></dt>
<dd><p>Option to perform a recursive search of directories (starting with the input directory). The status of every nested directory is reported.</p>
</dd></dl>

<p class="rubric">Arguments</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-status-arg-FOLDER">
<span class="sig-name descname"><span class="pre">FOLDER</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-status-arg-FOLDER" title="Link to this definition">#</a></dt>
<dd><p>Optional argument</p>
</dd></dl>

</section>
<section id="revrt-template-configs">
<h2>template-configs<a class="headerlink" href="#revrt-template-configs" title="Link to this heading">#</a></h2>
<p>Generate template config files for requested COMMANDS. If no COMMANDS are given, config files for the entire pipeline are generated.</p>
<p>The general structure for calling this CLI command is given below (add <code class="docutils literal notranslate"><span class="pre">--help</span></code> to print help info to the terminal).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>reVRt<span class="w"> </span>template-configs<span class="w"> </span><span class="o">[</span>COMMANDS<span class="o">]</span>...
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-template-configs-t">
<span id="cmdoption-reVRt-template-configs-type"></span><span class="sig-name descname"><span class="pre">-t</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--type</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;type&gt;</span></span><a class="headerlink" href="#cmdoption-reVRt-template-configs-t" title="Link to this definition">#</a></dt>
<dd><p>Configuration file type to generate. Allowed options (case-insensitive): <code class="docutils literal notranslate"><span class="pre">json5</span></code> <code class="docutils literal notranslate"><span class="pre">json</span></code> <code class="docutils literal notranslate"><span class="pre">toml</span></code> <code class="docutils literal notranslate"><span class="pre">yaml</span></code> <code class="docutils literal notranslate"><span class="pre">yml</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Default<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">'json'</span></code></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Arguments</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-reVRt-template-configs-arg-COMMANDS">
<span class="sig-name descname"><span class="pre">COMMANDS</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-reVRt-template-configs-arg-COMMANDS" title="Link to this definition">#</a></dt>
<dd><p>Optional argument(s)</p>
</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="cli.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Command Line Interface (CLI)</p>
      </div>
    </a>
    <a class="right-next"
       href="../dev/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Contributing to reVRt</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revrt-batch">batch</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revrt-build-routing-layers">build-routing-layers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revrt-layers-from-file">layers-from-file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revrt-layers-to-file">layers-to-file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revrt-pipeline">pipeline</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revrt-reset-status">reset-status</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revrt-route-characterization">route-characterization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revrt-script">script</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revrt-status">status</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revrt-template-configs">template-configs</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, Alliance for Sustainable Energy, LLC.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>